@using Sopon.Library
@using Sopon.Models
@model UpdateOutComeModel

@section Scripts
{
    <script src="~/Scripts/jquery-1.8.2.min.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.validate.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.validate-vsdoc.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.unobtrusive-ajax.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.ordertable.js"></script>
    <script src="~/Scripts/jquery-ui-1.8.24.min.js"></script>
    <script src="~/Scripts/jquery-ui.min.js"></script>

    <script>
            $("#btnUpdate").click(function (e) {
                var url = '/Outcome/HandleModifyOutcomeRecord'; // the script where you handle the form input.

                $.ajax({
                    type: "POST",
                    url: url,
                    data: {
                        id: $('#txtSID').val(),
                        name: $('#txtOutcomeName').val(),
                        amount: $('#txtAmout').val(),
                        unitPrice: $('#txtGoodsUnitPrice').val(),
                        count: $('#txtGoodsCount').val(),
                        date: $('#txtCreatedDate').val(),
                        desc: $('#txtOutcomeDesc').val()
                    },
                    //data: $("#form").serialize(), // serializes the form's elements.
                    success: function (data) {
                        window.location = '/Outcome/Outcome';
                    },
                    error: function (data) {
                        alert("Failed to update the record.");
                    }
                });
            });

            $("#btnCancel").click(function (e) {
                window.location = '/Outcome/Outcome';
            });
        $(function () {
            $("#txtCreatedDate").datepicker({
                dateFormat: 'yy-mm-dd',
            });
        });
    </script>

    <link href="~/Content/jquerysctipttop.css" rel="stylesheet" type="text/css">
    <link href='~/Content/OpenSansFontFamily.css' rel='stylesheet' type='text/css'>
    <link href="~/Content/Bootstrap/bootstrap.min.css" rel="stylesheet">
    <link href="~/Content/jquery-ui.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="~/Content/font-awesome.min.css" rel="stylesheet" type="text/css">
    <style type="text/css">
        body {
            background: #ECF0F1;
            font-family: 'Open Sans' sans-serif;
        }

        .container {
            margin: 150px auto 30px auto;
        }

        h1 {
            margin-bottom: 30px;
        }
    </style>
}


<section>
    <div class="row">
        <div class="col-lg-12">
            <!-- Page Heading -->
            <br />
            <h1 class="page-header" style="font-family:YouYuan">
                修改支出
            </h1>
            <!-- /.row -->
            <div class="row">
                <form role="form" id="form">
                    <input type="hidden" class="form-control" id="txtSID" value="@Model.ID">
                    <div class="form-group">
                        <label class="control-label" for="txtOutcomeName">支出项目</label>
                        <input type="text" class="form-control" id="txtOutcomeName" value="@Model.OutcomeName">
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="txtAmout">支出费用</label>
                        <div class="form-group input-group">
                            <span class="input-group-addon">$</span>
                            <input type="text" class="form-control" id="txtAmout" value="@Model.Amout">
                            <span class="input-group-addon">.00</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="txtGoodsUnitPrice">物品单价</label>
                        <div class="form-group input-group">
                            <span class="input-group-addon">$</span>
                            <input type="text" class="form-control" id="txtGoodsUnitPrice" value="@Model.GoodsUnitPrice">
                            <span class="input-group-addon">.00</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="txtGoodsCount">物品数量</label>
                        <input type="text" class="form-control" id="txtGoodsCount" value="@Model.GoodsCount">
                    </div>
                    <div class="form-group" id="divDate">
                        <label class="control-label" for="txtCreatedDate">支出时间</label>
                        <input id="txtCreatedDate" class="form-control" style="position: relative; z-index: 100000;" type="text"
                               value="@Model.CreatedDate">
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="txtOutcomeDesc">补充说明</label>
                        <input type="text" class="form-control" id="txtOutcomeDesc" value="@Model.OutcomeDesc">
                    </div>
                    <button id="btnUpdate" type="button" class="btn btn-lg btn-success" style="font-family: 'Microsoft YaHei';width:120px">更新</button>
                    <button id="btnCancel" type="button" class="btn btn-lg btn-success" style="font-family: 'Microsoft YaHei';width:120px">取消</button>
                </form>
            </div>
        </div>
    </div>
</section>
