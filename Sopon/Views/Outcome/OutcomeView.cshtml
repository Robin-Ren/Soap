@using Sopon.Library
@using Sopon.Models
@model OutcomeModel

@section Scripts
{
    <script src="~/Scripts/jquery-1.8.2.min.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.validate.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.validate-vsdoc.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.unobtrusive-ajax.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.ordertable.js"></script>

    <script>
        $(document).ready(function () {
            $('#tblView').orderTable({ excludeColumns: 3 });

            $("#btnAdd").click(function () {
                window.location = '/Outcome/GoToAddNewOutcomeRecordPage';
            });

            // nav
            $(function shownav() {
                var a2 = $(".side-nav>li>a");

                for (var i = 0; i < a2.length; i++) {
                    if (a2[i].getAttribute("href") == window.location) {
                        $parent = $(a2[i]).parent("li");
                        $parent.addClass("active");
                        return;
                    }
                }
                $(a2[0]).parent("li").addClass("active");
            })
        });
    </script>

    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-36251023-1']);
        _gaq.push(['_setDomainName', 'jqueryscript.net']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>

    <link href="~/Content/jquerysctipttop.css" rel="stylesheet" type="text/css">
    <link href='~/Content/OpenSansFontFamily.css' rel='stylesheet' type='text/css'>
    <link href="~/Content/Bootstrap/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    @*<link href="~/Content/sb-admin.css" rel="stylesheet">*@
    <!-- Custom Fonts -->
    <link href="~/Content/font-awesome.min.css" rel="stylesheet" type="text/css">
    <style type="text/css">
        body {
            background: #ECF0F1;
            font-family: 'Open Sans' sans-serif;
        }

        .container {
            margin: 150px auto 30px auto;
        }

        h1 {
            margin-bottom: 30px;
        }

        .order-table {
            cursor: pointer;
        }

            .order-table:after, .order-table--asc:after, .order-table--desc:after {
                font-size: .7em;
                width: 1em;
                display: inline-block;
            }

            .order-table:after {
                content: '▲▼';
            }

        .order-table--asc:after {
            content: '▲';
        }

        .order-table--desc:after {
            content: '▼';
        }

        #overlay {
            visibility: hidden;
            position: absolute;
            background-color: gray;
            opacity: 0.4;
            filter: alpha(opacity=40); /*For IE8 and earlier*/
            left: 0px;
            top: 0px;
            width: 100%;
            height: 100%;
            text-align: center;
            z-index: 1000;
        }

            #overlay div {
                width: 300px;
                margin: 150px auto;
                background-color: #fff;
                opacity: 1;
                filter: alpha(opacity=100); /*For IE8 and earlier*/
                border: 1px solid #000;
                padding: 15px;
                text-align: center;
                color: black;
            }
    </style>
}


<section>
    <!-- Page Heading -->
    <div class="row">
        <div class="col-lg-12">
            <br />
            <table>
                <tr>
                    <td width="60%">
                        <h1 class="page-header" style="font-family:YouYuan">
                            支出明细
                        </h1>
                    </td>
                    <td>
                        <button id="btnAdd" type="button" class="btn btn-lg btn-success" style="font-family: 'Microsoft YaHei';width:120px">添加</button>
                    </td>
                    <td width="10%">
                        <button id="btnExport" type="button" class="btn btn-lg btn-success" style="font-family: 'Microsoft YaHei' ;width:120px">导出</button>
                    </td>
                </tr>
            </table>

            <table id="tblView" class="table table-striped">

                <thead>
                    <tr>
                        <th>支出项目</th>
                        <th>支出费用</th>
                        <th>物品单价</th>
                        <th>物品数量</th>
                        <th>支出时间</th>
                        <th>补充说明</th>
                    </tr>
                </thead>
                @if (Model.OutcomeDetails.Count > 0)
                {
                    <tbody>
                        @foreach (OutCome item in Model.OutcomeDetails)
                        {
                            <tr class="success">
                                <td>@item.OutcomeName</td>
                                <td>@item.Amout</td>
                                <td>@item.GoodsUnitPrice</td>
                                <td>@item.GoodsCount</td>
                                <td>@item.CreatedDate.ToString("yyyy-MM-dd") </td>
                                <td>@item.OutcomeDesc</td>
                            </tr>
                        }
                    </tbody>
                }
            </table>

        </div>
    </div>
</section>
<div id="overlay">
    <div>
        <p>Processing...</p>
    </div>
</div>
